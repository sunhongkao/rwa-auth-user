"use strict";(self.webpackChunkprivy_atuh=self.webpackChunkprivy_atuh||[]).push([[5460],{17463(e,t,i){i.d(t,{A:()=>o});var l=i(15882),a=i(58661);const n=["title","titleId"];function r(e,t){let{title:i,titleId:r}=e,o=(0,l.A)(e,n);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},o),i?a.createElement("title",{id:r},i):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const o=a.forwardRef(r)},21074(e,t,i){i.d(t,{T:()=>n});var l=i(24107),a=i(85089);function n(e){return(0,a.jsxs)("svg",(0,l.A)((0,l.A)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),{},{children:[(0,a.jsx)("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),(0,a.jsx)("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),(0,a.jsx)("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),(0,a.jsx)("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]}))}},22772(e,t,i){i.d(t,{A:()=>l});const l=(0,i(72167).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},35460(e,t,i){i.d(t,{C:()=>re,L:()=>Q});var l=i(92030),a=i(24107),n=i(85089),r=i(15882),o=i(58661);const s=["title","titleId"];function d(e,t){let{title:i,titleId:l}=e,a=(0,r.A)(e,s);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},a),i?o.createElement("title",{id:l},i):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const c=o.forwardRef(d);var u=i(1754),p=i(44271),h=i(87931),g=i(13800),v=i(14766),m=i(52034),f=i(97916),x=i(53495),y=i(22772),w=i(72167);const j=(0,w.A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),C=(0,w.A)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var k=i(40265),b=i(42648),S=i(51136);var A=i(85652),M=i(17463),T=i(96440),L=i(54490),E=i(97198),I=i(34025),N=i(21074),W=i(37720),V=i(99743);const P=()=>{var e;let t=(0,h.u)(),i=null===t||void 0===t||null===(e=t.appearance)||void 0===e?void 0:e.logo,l="".concat(null===t||void 0===t?void 0:t.name," logo"),a={maxHeight:"90px",maxWidth:"180px"};return i?"string"==typeof i?(0,n.jsx)("img",{src:i,alt:l,style:a}):"svg"===i.type||"img"===i.type?o.cloneElement(i,{alt:l,style:a}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},D=e=>{let t=(0,h.u)();return null!==t&&void 0!==t&&t.appearance.logo?(0,n.jsx)(H,(0,a.A)((0,a.A)({},e),{},{children:(0,n.jsx)(P,{})})):null},H=u.I4.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-b210074-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),F=e=>{let{name:t,logoUrl:i,size:l="38px"}=e;return"string"==typeof i?(0,n.jsx)("img",{src:i,alt:"".concat(null!==t&&void 0!==t?t:"Provider app"," logo"),style:{width:l,height:l,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):(0,n.jsx)("span",{})},U=e=>{let{appId:t}=e,[i,l]=(0,o.useState)(void 0),{startCrossAppAuthFlow:a,authenticated:r}=(0,m.u)(),{client:s}=(0,v.u)();return(0,o.useEffect)(()=>{(async()=>{s&&l(await s.getCrossAppProviderDetails(t))})()},[s]),(0,n.jsx)(g.U,{onClick:()=>a({appId:t,action:r?"link":"login"}),disabled:!i,children:i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F,{name:i.name,logoUrl:i.icon_url||void 0,size:"24px"})," ",i.name]}):(0,n.jsx)(g.G,{})})},O=e=>{let{isEditable:t,setIsEditable:i,defaultValue:l}=e,a=(0,o.useRef)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.H,{$if:!t,children:(0,n.jsx)(k.C,{ref:a,defaultValue:l})}),(0,n.jsx)(g.H,{$if:t,children:(0,n.jsxs)(g.U,{onClick:()=>{i(),setTimeout(()=>{var e;null===(e=a.current)||void 0===e||e.focus()},0)},children:[(0,n.jsx)(g.V,{children:(0,n.jsx)(y.A,{})}),"Continue with Email"]})})]})},R=()=>{let[e,t]=(0,o.useState)(!1),{currentScreen:i,navigate:l,setModalData:a,data:r}=(0,m.a)(),{enabled:s,token:d}=(0,f.a)(),{initLoginWithFarcaster:c}=(0,v.u)(),{accountType:u}=(0,g.F)();return(0,n.jsxs)(g.U,{onClick:async()=>{t(!0);try{var e;s&&!d?(a({captchaModalData:{callback:e=>{var t;return c(e,null===r||void 0===r||null===(t=r.login)||void 0===t?void 0:t.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:"FarcasterConnectStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),l("CaptchaScreen")):(await c(d,null===r||void 0===r||null===(e=r.login)||void 0===e?void 0:e.disableSignup),l("FarcasterConnectStatusScreen"))}catch(n){a({errorModalData:{error:n,previousScreen:i||"LandingScreen"}}),l("ErrorScreen")}finally{t(!1)}},disabled:!1,children:[(0,n.jsx)(S.F,{width:32,height:32})," Farcaster",e&&(0,n.jsx)(g.G,{}),"farcaster"===u&&(0,n.jsx)(_,{color:"gray",children:"Recent"})]})};let _=(0,u.I4)(b.C).withConfig({displayName:"StyledChip",componentId:"sc-2f1c7323-0"})(["margin-left:auto;"]);const z=e=>{let t=Object.assign({},((0,l.A)(e),e));return(0,n.jsxs)("svg",(0,a.A)((0,a.A)({xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none"},t),{},{children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_2856_1743)",children:[(0,n.jsx)("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_2856_1743",children:(0,n.jsx)("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}))},$=e=>{let{chainType:t,withPadding:i}=e,l="";return l="ethereum-only"===t||"ethereum-and-solana"===t?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",(0,n.jsx)(g.W,{$withPadding:i,children:(0,n.jsxs)(g.X,{children:[(0,n.jsx)(A.A,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),(0,n.jsx)("h3",{children:"No wallets available"}),(0,n.jsxs)("p",{children:["Please download an external wallet provider, like ",l,"."]})]})},"empty-wallet-state")},q=()=>{let{enabled:e,token:t}=(0,f.a)(),{navigate:i,setModalData:l,data:a}=(0,m.a)(),r=(0,h.u)(),{initLoginWithPasskey:s}=(0,v.u)(),d=()=>{r.loginConfig.passkeysForSignupEnabled?i("PasskeySelectSignupOrLogin"):(async()=>{e&&!t?(l({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:e=>s({captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:"PasskeyStatusScreen",onErrorNavigateTo:"ErrorScreen"}}),i("CaptchaScreen")):(await s({withPrivyUi:!0,captchaToken:t}),l({passkeyAuthModalData:{passkeySignupFlow:!1}}),i("PasskeyStatusScreen"))})()};return 0===(0,o.useMemo)(()=>{var e;let t=null===a||void 0===a||null===(e=a.login)||void 0===e?void 0:e.loginMethods;return t?t.filter(e=>"passkey"!==e).length:Object.entries(r.loginMethods).filter(e=>{let[t,i]=e;return i}).filter(e=>{let[t]=e;return"passkey"!==t}).length},[r.loginMethods,null===a||void 0===a?void 0:a.login])?(0,n.jsxs)(g.U,{onClick:d,children:[(0,n.jsx)(M.A,{})," Continue with passkey"]}):(0,n.jsx)(T.L,{as:"button",onClick:d,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},B=e=>{let{isEditable:t,setIsEditable:i,defaultValue:l}=e,a=(0,o.useRef)(null),{authenticated:r}=(0,m.u)(),{navigate:s,setModalData:d,currentScreen:c,data:u}=(0,m.a)(),{initLoginWithSms:p}=(0,v.u)(),{enabled:x,token:y}=(0,f.a)(),{whatsAppEnabled:w}=(0,h.u)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.H,{$if:!t,children:(0,n.jsx)(L.C,{ref:a,onSubmit:async function(e){let{qualifiedPhoneNumber:t}=e;if(!x||y||r)try{var i;await p({phoneNumber:t,captchaToken:y,withPrivyUi:!0,disableSignup:null===u||void 0===u||null===(i=u.login)||void 0===i?void 0:i.disableSignup}),s("AwaitingPasswordlessCodeScreen")}catch(t){d({errorModalData:{error:t,previousScreen:c||"LandingScreen"}}),s("ErrorScreen")}else d({captchaModalData:{callback:e=>{var i;return p({phoneNumber:t,captchaToken:e,withPrivyUi:!0,disableSignup:null===u||void 0===u||null===(i=u.login)||void 0===i?void 0:i.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:"AwaitingPasswordlessCodeScreen",onErrorNavigateTo:"ErrorScreen"}}),s("CaptchaScreen")},defaultValue:l})}),(0,n.jsx)(g.H,{$if:t,children:(0,n.jsxs)(g.U,{onClick:()=>{i(),setTimeout(()=>{var e;null===(e=a.current)||void 0===e||e.focus()},0)},children:[(0,n.jsx)(g.V,{children:(0,n.jsx)(j,{})}),"Continue with ",w?"WhatsApp":"SMS"]})})]})};let Z={apple:{logo:E.A,displayName:"Apple"},discord:{logo:E.D,displayName:"Discord"},github:{logo:E.b,displayName:"GitHub"},google:{logo:E.G,displayName:"Google"},linkedin:{logo:E.L,displayName:"LinkedIn"},spotify:{logo:E.S,displayName:"Spotify"},instagram:{logo:E.I,displayName:"Instagram"},twitter:{logo:E.a,displayName:"Twitter"},tiktok:{logo:E.T,displayName:"TikTok"},line:{logo:I.L,displayName:"LINE"},twitch:{logo:I.T,displayName:"Twitch"}};const G=e=>{let{provider:t}=e,{enabled:i,token:l}=(0,f.a)(),{navigate:a,setModalData:r,data:s}=(0,m.a)(),[d,c]=(0,o.useState)(!1),u=(0,h.u)(),{initLoginWithOAuth:p}=(0,v.u)(),{accountType:x}=(0,g.F)(),y=(0,o.useMemo)(()=>x&&"guest"!==x&&"authorization_key"!==x&&"cross_app"!==x?(0,f.t)(x):null,[x]),{displayName:w,logo:j}=(0,o.useMemo)(()=>{if((0,m.i)(t)){let e=u.customOAuthProviders.find(e=>e.provider===t),i=e.provider_icon_url,l=e.provider_display_name;return{displayName:l,logo:e=>{let{style:t}=e;return(0,n.jsx)("img",{alt:"".concat(l," logo"),src:i,style:t})}}}return Z[t]},[t,u.customOAuthProviders]);return(0,n.jsxs)(g.U,{onClick:()=>{var e;c(!0),setTimeout(()=>{c(!1)},2e3),i&&!l?(r({captchaModalData:{callback:e=>{var i;return p(t,e,null===s||void 0===s||null===(i=s.login)||void 0===i?void 0:i.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:"ErrorScreen"}}),a("CaptchaScreen")):p(t,void 0,null===s||void 0===s||null===(e=s.login)||void 0===e?void 0:e.disableSignup)},disabled:d,children:[(0,n.jsx)(g.V,{$fullSize:!0,children:(0,n.jsx)(j,{style:{width:"32px",height:"32px"}})}),w,(null===y||void 0===y?void 0:y.loginMethod)===t&&(0,n.jsx)(K,{color:"gray",children:"Recent"})]})};let K=(0,u.I4)(b.C).withConfig({displayName:"StyledChip",componentId:"sc-e74c7091-0"})(["margin-left:auto;"]);const Y=()=>{let{enabled:e,token:t}=(0,f.a)(),{navigate:i,setModalData:l,data:a}=(0,m.a)(),[r,s]=(0,o.useState)(!1),{initLoginWithTelegram:d}=(0,v.u)(),{accountType:c}=(0,g.F)();async function u(e){try{var t;await d(e,null===a||void 0===a||null===(t=a.login)||void 0===t?void 0:t.disableSignup),l({telegramAuthModalData:{seamlessAuth:!1}}),i("TelegramAuthScreen")}catch(e){console.error(e),s(!1)}}return(0,n.jsxs)(g.U,{onClick:async function(){if(s(!0),e&&!t)return l({captchaModalData:{callback:u,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:"ErrorScreen"}}),void i("CaptchaScreen");await u(t)},disabled:r,children:[(0,n.jsx)(N.T,{width:32,height:32}),"Telegram","telegram"===c&&(0,n.jsx)(X,{color:"gray",children:"Recent"})]})};let X=(0,u.I4)(b.C).withConfig({displayName:"StyledChip",componentId:"sc-639dd483-0"})(["margin-left:auto;"]);const J=e=>{let{onClick:t,text:i,icon:l}=e;return(0,n.jsxs)(g.U,{onClick:t,children:[(0,n.jsx)(g.V,{children:l}),(0,n.jsx)(g.Y,{children:i})]})},Q=e=>{var t,i,l;let{connectOnly:r}=e,{closePrivyModal:s}=(0,v.u)(),{data:d,setModalData:c,onUserCloseViaDialogOrKeybindRef:u,navigate:y}=(0,m.a)(),w=(0,h.u)(),j=null===d||void 0===d?void 0:d.login,C=w.appearance.walletList,k=null!==(t=null===j||void 0===j?void 0:j.walletChainType)&&void 0!==t?t:w.appearance.walletChainType,{accountType:b,walletClientType:S,chainType:A}=(0,g.F)(),M=(0,o.useMemo)(()=>b&&"guest"!==b&&"authorization_key"!==b&&"cross_app"!==b?(0,f.t)(b):null,[b]),{email:T,sms:L,google:E,twitter:I,discord:N,github:D,spotify:H,instagram:F,tiktok:_,line:z,twitch:Z,linkedin:K,apple:X,wallet:Q,farcaster:re,telegram:oe}=null!==(i=(0,o.useMemo)(()=>null!==j&&void 0!==j&&j.loginMethods?function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.reduce((e,i)=>(0,a.A)((0,a.A)({},e),{},{[i]:t}),{})}(j.loginMethods,!0):null,[j]))&&void 0!==i?i:w.loginMethods,{wallets:se}=(0,x.u)({enabled:(0,g.e)(Q?C:[]),walletList:C,walletChainType:k}),de=w.customOAuthProviders,ce=w.crossAppProviders,{passkey:ue}=w.loginMethods,pe=[T&&"email",L&&"sms",E&&"google",I&&"twitter",N&&"discord",D&&"github",H&&"spotify",F&&"instagram",_&&"tiktok",z&&"line",Z&&"twitch",K&&"linkedin",X&&"apple",re&&"farcaster",oe&&"telegram",...de.map(e=>e.provider),...ce].filter(e=>!!e),he=pe.length>0,ge=(0,o.useMemo)(()=>Q&&!he?"web3-first":Q&&(null===w||void 0===w?void 0:w.appearance.loginGroupPriority)||"web2-first",[Q,he,null===w||void 0===w?void 0:w.appearance.loginGroupPriority]),ve=null===w||void 0===w?void 0:w.appearance.hideDirectWeb2Inputs,[me,fe]=(0,o.useState)("default"),[xe,ye]=(0,o.useState)(ne({mostRecentlyUsedAccountType:b,smsAvailable:L,emailAvailable:T,prefilledType:null===j||void 0===j||null===(l=j.prefill)||void 0===l?void 0:l.type}));(0,o.useEffect)(()=>{var e;ye(ne({mostRecentlyUsedAccountType:b,smsAvailable:L,emailAvailable:T,prefilledType:null===j||void 0===j||null===(e=j.prefill)||void 0===e?void 0:e.type}))},[T,L,b]);let we=()=>{s({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{fe("default")},150)};u.current=we;let je=[];S&&Q?je.push(S):(null===M||void 0===M?void 0:M.loginMethod)&&pe.includes(M.loginMethod)&&je.push(M.loginMethod);let Ce=e=>{var t,i;if("email"===e)return(0,n.jsx)(O,{isEditable:"email"===xe,setIsEditable:()=>{ye("email")},defaultValue:"email"===(null===j||void 0===j||null===(t=j.prefill)||void 0===t?void 0:t.type)?j.prefill.value:void 0},e);if("sms"===e)return(0,n.jsx)(B,{isEditable:"sms"===xe,setIsEditable:()=>{ye("sms")},defaultValue:"phone"===(null===j||void 0===j||null===(i=j.prefill)||void 0===i?void 0:i.type)?j.prefill.value:void 0},e);if("apple"===e)return(0,n.jsx)(G,{provider:"apple"},e);if("discord"===e)return(0,n.jsx)(G,{provider:"discord"},e);if("farcaster"===e)return(0,n.jsx)(R,{},e);if("github"===e)return(0,n.jsx)(G,{provider:"github"},e);if("google"===e)return(0,n.jsx)(G,{provider:"google"},e);if("linkedin"===e)return(0,n.jsx)(G,{provider:"linkedin"},e);if("tiktok"===e)return(0,n.jsx)(G,{provider:"tiktok"},e);if("line"===e)return(0,n.jsx)(G,{provider:"line"},e);if("twitch"===e)return(0,n.jsx)(G,{provider:"twitch"},e);if("spotify"===e)return(0,n.jsx)(G,{provider:"spotify"},e);if("instagram"===e)return(0,n.jsx)(G,{provider:"instagram"},e);if("twitter"===e)return(0,n.jsx)(G,{provider:"twitter"},e);if("telegram"===e)return(0,n.jsx)(Y,{},e);if((0,m.i)(e))return(0,n.jsx)(G,{provider:e},e);if(e.startsWith("privy:")){let t=e.split(":")[1];if(!t)throw Error("Invalid cross-app provider format. App ID missing.");return(0,n.jsx)(U,{appId:t},e)}let l=se.findIndex(t=>{let{id:i}=t;return i===x.c.normalize(e)}),o="solana"===A?"solana-only":"ethereum-only";return(0,n.jsx)(x.d,{recent:!0,index:l,data:{wallets:se,walletChainType:o,handleWalletClick(e){c(t=>(0,a.A)((0,a.A)({},t),{},{externalConnectWallet:{walletList:C,walletChainType:o,preSelectedWalletId:e.id}})),y(r?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}})},ke=se.filter(e=>e.id!==x.c.normalize(S||"")),be=ke.map((e,t)=>(0,n.jsx)(x.d,{index:t,data:{walletChainType:k,wallets:ke,handleWalletClick(e){c(t=>(0,a.A)((0,a.A)({},t),{},{externalConnectWallet:{walletList:C,walletChainType:k,preSelectedWalletId:e.id}})),y(r?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}},e.id)),Se=pe.filter(e=>e!==(null===M||void 0===M?void 0:M.loginMethod)).flatMap(Ce),Ae=je.flatMap(Ce);"web3-first"===ge&&"default"===me?be.unshift(...Ae):"web2-first"===ge&&Se.unshift(...Ae);let Me="web2-overflow"===me?()=>fe("default"):void 0,Te=pe.filter(e=>"email"!==e&&"sms"!==e),Le=ie({priority:ge,email:T,sms:L,social:Te}),Ee=le({priority:ge,email:T,sms:L,social:Te}),Ie=(0,n.jsx)(W.W,{text:ae({priority:ge}),onClick:()=>{var e;c((0,a.A)((0,a.A)({},d),{},{externalConnectWallet:{walletChainType:null!==(e=null===j||void 0===j?void 0:j.walletChainType)&&void 0!==e?e:w.appearance.walletChainType}})),y(r?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}),Ne=(0,n.jsx)(J,{text:Le,icon:Ee,onClick:()=>fe("web2-overflow")}),We=ve?0:1,Ve=Q&&be.length>0,Pe=0===Se.length&&Q&&0===be.length,De=5-(Ve?1:0),He="default"===me&&(null===w||void 0===w?void 0:w.appearance.logo),Fe="default"===me&&w.appearance.loginMessage;return(0,n.jsxs)(V.S,{title:w.appearance.landingHeader,icon:He?(0,n.jsx)(P,{}):void 0,iconVariant:He?"logo":void 0,onClose:we,showClose:!0,onBack:Me,showBack:!!Me,helpText:w||ue&&"default"===me?(0,n.jsxs)(n.Fragment,{children:[ue&&"default"===me&&(0,n.jsx)(q,{}),w&&(0,n.jsx)(p.T,{app:w})]}):void 0,watermark:!0,children:[Fe&&("string"==typeof w.appearance.loginMessage?(0,n.jsx)(ee,{children:w.appearance.loginMessage}):(0,n.jsx)(te,{children:w.appearance.loginMessage})),(0,n.jsx)(g.Z,{$colorScheme:w.appearance.palette.colorScheme,children:"default"===me&&"web2-first"===ge?(0,n.jsxs)(n.Fragment,{children:[Se.length>De?Se.slice(0,De-1):Se,Se.length>De&&Ne,Ve&&Ie,Pe&&(0,n.jsx)($,{chainType:w.appearance.walletChainType})]}):"default"===me&&"web3-first"===ge?(0,n.jsxs)(n.Fragment,{children:[Q&&(0,n.jsxs)(n.Fragment,{children:[be.length>De?be.slice(0,De-1):be,be.length>De&&Ie]}),Se.length>We&&Ne,Se.length===We&&Se[0],Pe&&(0,n.jsx)($,{chainType:w.appearance.walletChainType})]}):"web2-overflow"===me?(0,n.jsx)(n.Fragment,{children:"web3-first"===ge?Se:Se.slice(3)}):null})]})};let ee=u.I4.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-c85d71fe-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),te=u.I4.div.withConfig({displayName:"MessageContainer",componentId:"sc-c85d71fe-1"})(["margin-bottom:24px;"]),ie=e=>{let{priority:t,email:i,sms:l,social:a}=e;return"web2-first"===t?"Other socials":i&&l&&a.length>0||i&&a.length>0?"Log in with email or socials":l&&a.length>0?"Log in with sms or socials":i&&l?"Continue with email or sms":i?"Continue with email":l?"Continue with sms":"Log in with a social account"},le=e=>{let{priority:t,email:i,sms:l,social:a}=e;return"web2-first"===t||a.length>0?(0,n.jsx)(C,{}):i&&l?(0,n.jsx)(z,{}):i?(0,n.jsx)(y.A,{}):l?(0,n.jsx)(j,{}):null},ae=e=>{let{priority:t}=e;return"web2-first"===t?"Continue with a wallet":"Other wallets"};const ne=e=>{let{mostRecentlyUsedAccountType:t,smsAvailable:i,emailAvailable:l,prefilledType:a}=e;return l&&("email"===t&&"phone"!==a||"email"===a)||!i||"phone"!==t&&"phone"!==a?"email":"sms"},re=e=>{var t,i,l,r,s;let{connectOnly:d}=e,{closePrivyModal:u,connectors:y}=(0,v.u)(),{data:w,setModalData:j,onUserCloseViaDialogOrKeybindRef:C,navigate:k}=(0,m.a)(),b=(0,h.u)(),S=b.appearance.palette.colorScheme,{accountType:A,walletClientType:M}=(0,g.F)(),T=(0,o.useMemo)(()=>A&&"guest"!==A&&"authorization_key"!==A&&"cross_app"!==A?(0,f.t)(A):null,[A]),L=null!==(t=null===(i=b.loginMethodsAndOrder)||void 0===i?void 0:i.primary)&&void 0!==t?t:[],E=null!==(l=null===(r=b.loginMethodsAndOrder)||void 0===r?void 0:r.overflow)&&void 0!==l?l:[],I=(0,o.useMemo)(()=>[...L,...E],[L,E]),N=b.loginMethods.passkey,W=null===w||void 0===w?void 0:w.login,V=[];M&&I.includes(M)?V.push(M):A&&I.includes(null===T||void 0===T?void 0:T.loginMethod)&&V.push(null===T||void 0===T?void 0:T.loginMethod);let[P,D]=(0,o.useState)("default"),[H,F]=(0,o.useState)(ne({mostRecentlyUsedAccountType:A,smsAvailable:I.includes("sms"),emailAvailable:I.includes("email"),prefilledType:null===W||void 0===W||null===(s=W.prefill)||void 0===s?void 0:s.type}));(0,o.useEffect)(()=>{var e;F(ne({mostRecentlyUsedAccountType:A,smsAvailable:I.includes("sms"),emailAvailable:I.includes("email"),prefilledType:null===W||void 0===W||null===(e=W.prefill)||void 0===e?void 0:e.type}))},[I,A]),(0,o.useEffect)(()=>{"phone"===A&&F("sms");let e=I.indexOf("sms"),t=I.indexOf("email");e>-1&&e<t&&F("sms")},[A,L,E]);let _=()=>{u({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{D("default")},150)};C.current=_;let{listings:z}=(0,g.d)(),$=e=>{var t,i;if("email"===e)return(0,n.jsx)(O,{isEditable:"email"===H,setIsEditable:()=>{F("email")},defaultValue:"email"===(null===W||void 0===W||null===(t=W.prefill)||void 0===t?void 0:t.type)?W.prefill.value:void 0},e);if("sms"===e)return(0,n.jsx)(B,{isEditable:"sms"===H,setIsEditable:()=>{F("sms")},defaultValue:"phone"===(null===W||void 0===W||null===(i=W.prefill)||void 0===i?void 0:i.type)?W.prefill.value:void 0},e);if("apple"===e)return(0,n.jsx)(G,{provider:"apple"},e);if("discord"===e)return(0,n.jsx)(G,{provider:"discord"},e);if("farcaster"===e)return(0,n.jsx)(R,{},e);if("github"===e)return(0,n.jsx)(G,{provider:"github"},e);if("google"===e)return(0,n.jsx)(G,{provider:"google"},e);if("linkedin"===e)return(0,n.jsx)(G,{provider:"linkedin"},e);if("spotify"===e)return(0,n.jsx)(G,{provider:"spotify"},e);if("instagram"===e)return(0,n.jsx)(G,{provider:"instagram"},e);if("tiktok"===e)return(0,n.jsx)(G,{provider:"tiktok"},e);if("line"===e)return(0,n.jsx)(G,{provider:"line"},e);if("twitch"===e)return(0,n.jsx)(G,{provider:"twitch"},e);if("twitter"===e)return(0,n.jsx)(G,{provider:"twitter"},e);if("telegram"===e)return(0,n.jsx)(Y,{},e);if(e.startsWith("privy:"))return(0,n.jsx)(U,{appId:e.replace("privy:","")},e);let l=b.appearance.walletChainType,r=new x.c(l,[e]).getWallets(y,z);return r.wallets.map((e,t)=>(0,n.jsx)(x.d,{index:t,data:{wallets:r.wallets,walletChainType:l,handleWalletClick(e){j(t=>(0,a.A)((0,a.A)({},t),{},{externalConnectWallet:{walletList:I,walletChainType:l,preSelectedWalletId:e.id}})),k(d?"ConnectOnlyLandingScreen":"AuthenticateWithWalletScreen")}}},e.id+t))},Z=V.flatMap($),K=L.filter(e=>e!==M&&e!==(null===T||void 0===T?void 0:T.loginMethod)).flatMap($),X=E.filter(e=>e!==M&&e!==(null===T||void 0===T?void 0:T.loginMethod)).flatMap($),[Q,ee]=(0,g._)([...Z,...K,...X],oe({primary:K.length+Z.length,overflow:X.length}));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.M,{title:b.appearance.landingHeader,onClose:_,backFn:"default"===P?void 0:()=>{D("default")}}),"default"===P&&(0,n.jsx)(se,{}),"default"===P&&("string"==typeof b.appearance.loginMessage?(0,n.jsx)(g.$,{children:b.appearance.loginMessage}):b.appearance.loginMessage),(0,n.jsx)(g.a0,{style:{overflow:"hidden"},children:(0,n.jsxs)(g.Z,{$colorScheme:S,children:["default"===P&&(0,n.jsxs)(n.Fragment,{children:[Q,ee.length>0&&(0,n.jsx)(J,{text:"More options",icon:(0,n.jsx)(c,{}),onClick:()=>D("overflow")})]}),"overflow"===P&&(0,n.jsx)(n.Fragment,{children:ee}),N&&"default"===P&&(0,n.jsx)(q,{})]})}),b&&(0,n.jsx)(p.T,{app:b}),(0,n.jsx)(p.B,{})]})};let oe=e=>{let{primary:t,overflow:i}=e;return t<5?t:5===t&&0===i?5:4},se=(0,u.I4)(D).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-ead54d53-0"})(["margin-bottom:16px;"])},37720(e,t,i){i.d(t,{W:()=>r});var l=i(85089);const a=(0,i(72167).A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);var n=i(13800);const r=e=>{let{onClick:t,text:i}=e;return(0,l.jsxs)(n.U,{onClick:t,children:[(0,l.jsx)(n.V,{children:(0,l.jsx)(a,{})}),(0,l.jsx)(n.Y,{children:i})]})}},40265(e,t,i){i.d(t,{C:()=>m});var l=i(85089),a=i(22772),n=i(58661),r=i(1754),o=i(87931),s=i(14766),d=i(97916),c=i(52034),u=i(13800),p=i(39736),h=i(42648),g=i(87985),v=i(42448);const m=(0,n.forwardRef)((e,t)=>{let[i,r]=(0,n.useState)(e.defaultValue||""),[g,m]=(0,n.useState)(""),[w,j]=(0,n.useState)(!1),{authenticated:C}=(0,c.u)(),{initLoginWithEmail:k}=(0,s.u)(),{navigate:b,setModalData:S,currentScreen:A,data:M}=(0,c.a)(),{enabled:T,token:L}=(0,d.a)(),[E,I]=(0,n.useState)(!1),{accountType:N}=(0,u.F)(),W=(0,o.u)();(0,n.useEffect)(()=>{var e,t;!i&&W.disablePlusEmails&&(null===M||void 0===M||null===(e=M.inlineError)||void 0===e?void 0:e.error)instanceof s.c&&(null===M||void 0===M||null===(t=M.inlineError)||void 0===t?void 0:t.error.privyErrorCode)===s.b.DISALLOWED_PLUS_EMAIL&&!g&&m("Please enter a valid email address without a '+'."),g&&m("")},[i]);let V=(0,u.a1)(i),P=w||!V,D=()=>{var e,t;S({login:null===M||void 0===M?void 0:M.login,inlineError:void 0}),!T||L||C?(t=L,j(!0),k({email:i,captchaToken:t,disableSignup:null===M||void 0===M||null===(e=M.login)||void 0===e?void 0:e.disableSignup,withPrivyUi:!0}).then(()=>{b("AwaitingPasswordlessCodeScreen")}).catch(e=>{S({errorModalData:{error:e,previousScreen:A||"LandingScreen"}}),b("ErrorScreen")}).finally(()=>{j(!1)})):(S({captchaModalData:{callback:e=>k({email:i,captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:"AwaitingPasswordlessCodeScreen",onErrorNavigateTo:"ErrorScreen"}}),b("CaptchaScreen"))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(f,{children:[g&&(0,l.jsx)(v.E,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:g}),(0,l.jsxs)(x,{stacked:e.stacked,$error:!!g,children:[(0,l.jsx)(y,{children:(0,l.jsx)(a.A,{})}),(0,l.jsx)("input",{ref:t,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>I(!0),onChange:e=>r(e.target.value),onKeyUp:e=>{"Enter"===e.key&&D()},value:i,autoComplete:"email"}),"email"!==N||E?e.stacked?(0,l.jsx)("span",{}):(0,l.jsx)(p.E,{isSubmitting:w,onClick:D,disabled:P,children:"Submit"}):(0,l.jsx)(h.C,{color:"gray",children:"Recent"})]})]}),e.stacked?(0,l.jsx)(p.P,{loadingText:null,loading:w,disabled:P,onClick:D,style:{width:"100%"},children:"Submit"}):null]})});let f=g.I,x=g.a,y=(0,r.I4)(u.V).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-30d3bab7-0"})(["display:inline-flex;"])},51136(e,t,i){i.d(t,{F:()=>n});var l=i(24107),a=i(85089);const n=e=>(0,a.jsxs)("svg",(0,l.A)((0,l.A)({width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[(0,a.jsx)("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),(0,a.jsxs)("g",{"clip-path":"url(#clip0_1715_1960)",children:[(0,a.jsx)("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),(0,a.jsx)("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),(0,a.jsx)("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),(0,a.jsx)("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1715_1960",children:(0,a.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}))},72167(e,t,i){i.d(t,{A:()=>p});var l=i(24107),a=i(15882),n=i(58661);const r=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.filter((e,t,i)=>Boolean(e)&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const d=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],c=(0,n.forwardRef)((e,t)=>{let{color:i="currentColor",size:r=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:p="",children:h,iconNode:g}=e,v=(0,a.A)(e,d);return(0,n.createElement)("svg",(0,l.A)((0,l.A)((0,l.A)({ref:t},s),{},{width:r,height:r,stroke:i,strokeWidth:u?24*Number(c)/Number(r):c,className:o("lucide",p)},!h&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(v)&&{"aria-hidden":"true"}),v),[...g.map(e=>{let[t,i]=e;return(0,n.createElement)(t,i)}),...Array.isArray(h)?h:[h]])}),u=["className"],p=(e,t)=>{const i=(0,n.forwardRef)((i,s)=>{let{className:d}=i,p=(0,a.A)(i,u);return(0,n.createElement)(c,(0,l.A)({ref:s,iconNode:t,className:o("lucide-".concat((h=r(e),h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),d)},p));var h});return i.displayName=r(e),i}}}]);