"use strict";(self.webpackChunkprivy_atuh=self.webpackChunkprivy_atuh||[]).push([[5847],{35847(e,o,n){n.r(o),n.d(o,{DelegatedActionsRevokeScreen:()=>d,DelegatedActionsRevokeScreenView:()=>y,default:()=>d});var t=n(85089),a=n(76300),r=n(50553);const s=(0,n(72167).A)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var c=n(58661),l=n(87931),i=n(14766),u=n(52034),k=n(99743);n(72025),n(15546),n(99130);const y=e=>{let{appName:o,success:n,error:c,onRevoke:l,onDeny:i,onClose:u}=e;return(0,t.jsx)(k.S,n||c?{title:c?"Something went wrong":"Success!",subtitle:c?"Please try again.":"You've successfully revoked permissions.",icon:c?a.A:r.A,iconVariant:c?"error":"success",onBack:u,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:"By confirming, ".concat(o," will no longer be able to use this wallet on your behalf when you are not online."),icon:s,primaryCta:{label:"Confirm",onClick:l},secondaryCta:{label:"Deny",onClick:i},onBack:u,watermark:!0})},d={component:()=>{let{data:e}=(0,u.a)(),o=(0,l.u)(),{closePrivyModal:n}=(0,i.u)(),[a,r]=(0,c.useState)(!1),[s,k]=(0,c.useState)(),{onRevoke:d,onSuccess:v,onError:m}=e.delegatedActions.revoke,h=async()=>{a?v():m(null!==s&&void 0!==s?s:new i.a("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return(0,c.useEffect)(()=>{if(!a&&!s)return;let e=setTimeout(h,l.r);return()=>clearTimeout(e)},[a,s]),(0,t.jsx)(y,{appName:o.name,success:a,error:s,onRevoke:async()=>{try{await d(),r(!0)}catch(e){k(e)}},onDeny:()=>{h()},onClose:h})}}}}]);