"use strict";(self.webpackChunkprivy_atuh=self.webpackChunkprivy_atuh||[]).push([[5630],{15282(e,r,t){t.d(r,{A:()=>a});var o=t(15882),n=t(58661);const l=["title","titleId"];function i(e,r){let{title:t,titleId:i}=e,a=(0,o.A)(e,l);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),t?n.createElement("title",{id:i},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const a=n.forwardRef(i)},15774(e,r,t){t.d(r,{A:()=>a});var o=t(15882),n=t(58661);const l=["title","titleId"];function i(e,r){let{title:t,titleId:i}=e,a=(0,o.A)(e,l);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":i},a),t?n.createElement("title",{id:i},t):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const a=n.forwardRef(i)},28849(e,r,t){t.d(r,{S:()=>o});const o=t(1754).I4.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"])},45630(e,r,t){t.r(r),t.d(r,{SetAutomaticRecoveryScreen:()=>m,default:()=>m});var o=t(85089),n=t(15282),l=t(15774),i=t(58661),a=t(52034),s=t(39736),c=t(44271),d=t(1754),u=t(28849),v=t(96426),h=t(87931),y=t(14766),f=t(13800);t(72025),t(15546),t(99130);const g=d.I4.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],e=>{var r;return null!==(r=e.$color)&&void 0!==r?r:"var(--privy-color-accent)"}),m={component:()=>{var e;let{user:r}=(0,a.u)(),{client:t,walletProxy:d,refreshSessionAndUser:m,closePrivyModal:p}=(0,y.u)(),w=(0,a.a)(),{entropyId:x,entropyIdVerifier:j}=null===(e=w.data)||void 0===e?void 0:e.recoverWallet,[b,k]=(0,i.useState)(!1),[I,C]=(0,i.useState)(null),[S,T]=(0,i.useState)(null);function A(){if(!b){var e,r;if(S)return null!==(e=w.data)&&void 0!==e&&null!==(e=e.setWalletPassword)&&void 0!==e&&e.onFailure(S),void p();if(!I)return null!==(r=w.data)&&void 0!==r&&null!==(r=r.setWalletPassword)&&void 0!==r&&r.onFailure(Error("User exited set recovery flow")),void p()}}w.onUserCloseViaDialogOrKeybindRef.current=A;let E=!(!b&&!I);return(0,o.jsxs)(o.Fragment,S?{children:[(0,o.jsx)(c.M,{onClose:A},"header"),(0,o.jsx)(g,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:(0,o.jsx)(n.A,{height:38,width:38,stroke:"var(--privy-color-error)"})}),(0,o.jsx)(v.T,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),(0,o.jsx)(f.Y,{style:{minHeight:"2rem"}}),(0,o.jsx)(s.a,{onClick:()=>T(null),children:"Try again"}),(0,o.jsx)(c.B,{})]}:{children:[(0,o.jsx)(c.M,{onClose:A},"header"),(0,o.jsx)(l.A,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),(0,o.jsx)(v.T,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),(0,o.jsx)(u.S,{style:{marginTop:"1rem"},children:"When you log into a new device, you\u2019ll only need to authenticate to access your account. Never get logged out if you forget your password."}),(0,o.jsx)(f.Y,{style:{minHeight:"2rem"}}),(0,o.jsx)(s.a,{loading:b,disabled:E,onClick:()=>async function(){k(!0);try{let e=await t.getAccessToken(),o=(0,a.h)(r,x);if(!e||!d||!o)return;if(!(await d.setRecovery({accessToken:e,entropyId:x,entropyIdVerifier:j,existingRecoveryMethod:o.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let n=await m();if(!n)throw Error("Unable to set recovery on wallet");let l=(0,a.h)(n,o.address);if(!l)throw Error("Unabled to set recovery on wallet");C(!!n),setTimeout(()=>{var e;null!==(e=w.data)&&void 0!==e&&null!==(e=e.setWalletPassword)&&void 0!==e&&e.onSuccess(l),p()},h.q)}catch(e){T(e)}finally{k(!1)}}(),children:I?"Success":"Confirm"}),(0,o.jsx)(c.B,{})]})}}},96426(e,r,t){t.d(r,{T:()=>o});const o=t(1754).I4.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"])}}]);