"use strict";(self.webpackChunkprivy_atuh=self.webpackChunkprivy_atuh||[]).push([[502],{10502(e,n,r){r.r(n),r.d(n,{TurnstileWrapper:()=>b,default:()=>b});var t=r(24107),o=r(15882),i=r(85089),c=r(58661);const a=["as"],l=["scriptOptions","options","siteKey","onWidgetLoad","onSuccess","onExpire","onError","onBeforeInteractive","onAfterInteractive","onUnsupported","onTimeout","onLoadScript","id","style","as","injectScript","rerenderOnCallbackChange"];var u=(0,c.forwardRef)((e,n)=>{let{as:r="div"}=e,c=(0,o.A)(e,a);return(0,i.jsx)(r,(0,t.A)((0,t.A)({},c),{},{ref:n}))}),s="cf-turnstile-script",d="onloadTurnstileCallback",p=e=>!!document.getElementById(e),f={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}};function v(e){if("invisible"!==e&&"interactionOnly"!==e)return e}var h,w="unloaded",x=new Promise((e,n)=>{h={resolve:e,reject:n},"ready"===w&&e(void 0)}),y=(0,c.forwardRef)((e,n)=>{let{scriptOptions:r,options:a={},siteKey:y,onWidgetLoad:m,onSuccess:b,onExpire:g,onError:E,onBeforeInteractive:T,onAfterInteractive:k,onUnsupported:A,onTimeout:I,onLoadScript:C,id:S,style:O,as:R="div",injectScript:B=!0,rerenderOnCallbackChange:L=!1}=e,N=(0,o.A)(e,l),j=a.size,F=(0,c.useCallback)(()=>typeof j>"u"?{}:"execute"===a.execution?f.invisible:"interaction-only"===a.appearance?f.interactionOnly:f[j],[a.execution,j,a.appearance]),[U,_]=(0,c.useState)(F()),K=(0,c.useRef)(null),[P,W]=(0,c.useState)(!1),z=(0,c.useRef)(void 0),D=(0,c.useRef)(!1),M=S||"cf-turnstile",q=(0,c.useRef)({onSuccess:b,onError:E,onExpire:g,onBeforeInteractive:T,onAfterInteractive:k,onUnsupported:A,onTimeout:I});(0,c.useEffect)(()=>{L||(q.current={onSuccess:b,onError:E,onExpire:g,onBeforeInteractive:T,onAfterInteractive:k,onUnsupported:A,onTimeout:I})});let H=(null===r||void 0===r?void 0:r.id)||s,G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,[n,r]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let n=()=>{p(e)&&r(!0)},t=new MutationObserver(n);return t.observe(document,{childList:!0,subtree:!0}),n(),()=>{t.disconnect()}},[e]),n}(H),J=(null===r||void 0===r?void 0:r.onLoadCallbackName)||d,Q=a.appearance||"always",V=(0,c.useMemo)(()=>({sitekey:y,action:a.action,cData:a.cData,theme:a.theme||"auto",language:a.language||"auto",tabindex:a.tabIndex,"response-field":a.responseField,"response-field-name":a.responseFieldName,size:v(j),retry:a.retry||"auto","retry-interval":a.retryInterval||8e3,"refresh-expired":a.refreshExpired||"auto","refresh-timeout":a.refreshTimeout||"auto",execution:a.execution||"render",appearance:a.appearance||"always","feedback-enabled":a.feedbackEnabled||!0,callback:e=>{var n,r;D.current=!0,L?null===b||void 0===b||b(e):null===(n=(r=q.current).onSuccess)||void 0===n||n.call(r,e)},"error-callback":L?E:function(){for(var e,n,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return null===(e=(n=q.current).onError)||void 0===e?void 0:e.call(n,...t)},"expired-callback":L?g:function(){for(var e,n,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return null===(e=(n=q.current).onExpire)||void 0===e?void 0:e.call(n,...t)},"before-interactive-callback":L?T:function(){for(var e,n,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return null===(e=(n=q.current).onBeforeInteractive)||void 0===e?void 0:e.call(n,...t)},"after-interactive-callback":L?k:function(){for(var e,n,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return null===(e=(n=q.current).onAfterInteractive)||void 0===e?void 0:e.call(n,...t)},"unsupported-callback":L?A:function(){for(var e,n,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return null===(e=(n=q.current).onUnsupported)||void 0===e?void 0:e.call(n,...t)},"timeout-callback":L?I:function(){for(var e,n,r=arguments.length,t=new Array(r),o=0;o<r;o++)t[o]=arguments[o];return null===(e=(n=q.current).onTimeout)||void 0===e?void 0:e.call(n,...t)}}),[a.action,a.appearance,a.cData,a.execution,a.language,a.refreshExpired,a.responseField,a.responseFieldName,a.retry,a.retryInterval,a.tabIndex,a.theme,a.feedbackEnabled,a.refreshTimeout,y,j,L,L?b:null,L?E:null,L?g:null,L?T:null,L?k:null,L?A:null,L?I:null]),X=(0,c.useCallback)(()=>typeof window<"u"&&!!window.turnstile,[]);return(0,c.useEffect)(function(){B&&!P&&(e=>{let{render:n="explicit",onLoadCallbackName:r=d,scriptOptions:{nonce:t="",defer:o=!0,async:i=!0,id:c="",appendTo:a,onError:l,crossOrigin:u=""}={}}=e,f=c||s;if(p(f))return;let v=document.createElement("script");v.id=f,v.src="".concat("https://challenges.cloudflare.com/turnstile/v0/api.js","?onload=").concat(r,"&render=").concat(n),document.querySelector('script[src="'.concat(v.src,'"]'))||(v.defer=!!o,v.async=!!i,t&&(v.nonce=t),u&&(v.crossOrigin=u),l&&(v.onerror=l,delete window[r]),("body"===a?document.body:document.getElementsByTagName("head")[0]).appendChild(v))})({onLoadCallbackName:J,scriptOptions:(0,t.A)((0,t.A)({},r),{},{id:H})})},[B,P,r,H]),(0,c.useEffect)(function(){"ready"!==w&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return"unloaded"===w&&(w="loading",window[e]=()=>{h.resolve(),w="ready",delete window[e]}),x}(J).then(()=>W(!0)).catch(console.error)},[]),(0,c.useEffect)(function(){if(!K.current||!P)return;let e=!1;return(async()=>{if(e||!K.current)return;let n=window.turnstile.render(K.current,V);z.current=n,z.current&&(null===m||void 0===m||m(z.current))})(),()=>{e=!0,z.current&&(window.turnstile.remove(z.current),D.current=!1)}},[M,P,V]),(0,c.useImperativeHandle)(n,()=>{let{turnstile:e}=window;return{getResponse(){if(null!==e&&void 0!==e&&e.getResponse&&z.current&&X())return e.getResponse(z.current);console.warn("Turnstile has not been loaded")},async getResponsePromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return new Promise((r,t)=>{let o,i=async()=>{if(D.current&&window.turnstile&&z.current)try{let e=window.turnstile.getResponse(z.current);return o&&clearTimeout(o),e?r(e):t(new Error("No response received"))}catch(c){return o&&clearTimeout(o),console.warn("Failed to get response",c),t(new Error("Failed to get response"))}o||(o=setTimeout(()=>{o&&clearTimeout(o),t(new Error("Timeout"))},e)),await new Promise(e=>setTimeout(e,n)),await i()};i()})},reset(){if(null!==e&&void 0!==e&&e.reset&&z.current&&X()){"execute"===a.execution&&_(f.invisible);try{D.current=!1,e.reset(z.current)}catch(n){console.warn("Failed to reset Turnstile widget ".concat(z),n)}}else console.warn("Turnstile has not been loaded")},remove(){null!==e&&void 0!==e&&e.remove&&z.current&&X()?(_(f.invisible),D.current=!1,e.remove(z.current),z.current=null):console.warn("Turnstile has not been loaded")},render(){if(null===e||void 0===e||!e.render||!K.current||!X()||z.current)return void console.warn("Turnstile has not been loaded or container not found");let n=e.render(K.current,V);return z.current=n,z.current&&null!==m&&void 0!==m&&m(z.current),"execute"!==a.execution&&_(j?f[j]:{}),n},execute(){"execute"===a.execution?null!==e&&void 0!==e&&e.execute&&K.current&&z.current&&X()?(e.execute(K.current,V),_(j?f[j]:{})):console.warn("Turnstile has not been loaded or container not found"):console.warn('Execution mode is not set to "execute"')},isExpired:()=>null!==e&&void 0!==e&&e.isExpired&&z.current&&X()?e.isExpired(z.current):(console.warn("Turnstile has not been loaded"),!1)}},[z,a.execution,j,V,K,X,P,m]),(0,c.useEffect)(()=>{G&&!P&&window.turnstile&&W(!0)},[P,G]),(0,c.useEffect)(()=>{_(F())},[a.execution,j,Q]),(0,c.useEffect)(()=>{!G||"function"!=typeof C||C()},[G]),(0,i.jsx)(u,(0,t.A)({ref:K,as:R,id:M,style:(0,t.A)((0,t.A)({},U),O)},N))});y.displayName="Turnstile";const m=["delayedExecution","captchaContext"],b=e=>{let{delayedExecution:n,captchaContext:r}=e,c=(0,o.A)(e,m),{appId:a,setError:l,setToken:u,setExecuting:s,siteKey:d,ref:p}=r;return(0,i.jsx)(y,(0,t.A)((0,t.A)({},c),{},{ref:p,siteKey:null!==d&&void 0!==d?d:"",options:(0,t.A)({action:a,size:"invisible"},n?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}),onUnsupported:()=>{var e;null!==(e=c.onUnsupported)&&void 0!==e&&e.call(c),console.warn("Browser does not support Turnstile.")},onError:e=>{var n;null!==(n=c.onError)&&void 0!==n&&n.call(c,e),l("Captcha failed"),s(!1)},onSuccess:e=>{var n;null!==(n=c.onSuccess)&&void 0!==n&&n.call(c,e),u(e),s(!1)},onExpire:e=>{var n;null===(n=c.onExpire)||void 0===n||n.call(c,e);try{var r;null!==(r=p.current)&&void 0!==r&&r.reset(),l(void 0),u(void 0)}catch(e){l("expired_and_failed_reset")}}}))}}}]);